# Программа создавалась исключительно в образовательных целях, и не рекомендуется к использованию с чат-ботом

Компания производитель электронных сигарет создала бот в телеграмме, который позволяет получать бонусы за сканирование сигаретных пачек. Сканирование происходит путем фотографирования пачки под определенным углом, так чтобы в кадре был виден номер акциза. 

Опытным путем было установлено что добавленный рандомным образом номер проходил проверку и за него зачислялись бонусы. В надежде заполучить бонусы (и потом обменять их на различные товары) и была начата работа над программой. 

Первым шагом было разобраться как бот получает фото.
Для этого я установил расширение в хроме, которое показывает исходящие запросы и открыл ссылку, которую давал бот.

Выяснилось, что в момент фотографирования пачки делалось 3 фотографии с интервалом в 1 секунду, после чего эти фотографии конвертировались в base64 строку, добавлялись в массив, массив добавлялся вместе с другими параметрами в json, а json в свою очередь отправлялся на сторонний сайт, вместе c хедерами запроса. Все это дело подписывалось через Basic auth, токен которого я смог вытащить через header spy. (без него сервер ругался).
Все это было протестировано в Postman, после чего началась разработка программы.

Задача была поделена на три блока:  
1 - отправить post запрос из программы, сделать так чтобы мой запрос ничем не отличался от запросов с настоящих устройств.  
2 - добавить на изображение номер акциза по заданным координатам.  
3 - превратить картинку в base64 строку и чтобы эта строка считывалась ботом. (удачно восстановилсь и отобразилась в чате)  

Методом проб и ошибок все задачи были выполнены и программа начала делать то что я хотел.Код работал а бонусы зачислялись, но потом я получил бан, и еще один, и еще, и понял что не видать мне бесплатных бонусов.  Но изучать как работает чужой механизм и вклиниваться в него, попутно решая различные нетипичные задачи было очень интересно и познавательно. 
